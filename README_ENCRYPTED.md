# 投标服务大师 - 加密打包说明

## 概述

此文档说明如何使用PyArmor对投标服务大师的Python代码进行加密保护，并打包成加密版的exe文件。

## 文件说明

- `build_encrypted.py` - 加密打包脚本
- `app_launcher_encrypted.py` - 加密版启动器
- `README_ENCRYPTED.md` - 加密打包说明文档

## 加密打包步骤

### 1. 安装依赖

确保已安装以下依赖：

```bash
pip install pyarmor pyinstaller
```

### 2. 运行加密打包脚本

```bash
python build_encrypted.py
```

### 3. 构建过程说明

脚本将执行以下步骤：

1. **清理构建文件** - 删除之前的构建产物
2. **构建前端** - 构建React前端代码
3. **加密后端代码** - 使用PyArmor加密Python代码
4. **创建加密版spec文件** - 配置PyInstaller打包选项
5. **构建加密版exe** - 使用PyInstaller打包加密后的代码
6. **验证加密结果** - 检查加密是否成功

### 4. 输出文件

构建完成后，将生成以下文件：

- `dist_encrypted/` - 加密版exe文件目录
  - `bidmaster_encrypted.exe` - 加密版可执行文件
- `backend_encrypted/` - 加密后的Python代码

## 加密特性

### 加密保护级别

- **代码混淆** - 变量名、函数名、类名混淆
- **字符串加密** - 源代码中的字符串加密
- **控制流混淆** - 代码执行流程混淆
- **模块重命名** - Python模块名混淆
- **RASP保护** - 运行时应用自我保护
- **JIT模式** - 即时编译保护

### 运行时保护

- **调试保护** - 防止调试器附加
- **导入检查** - 检查模块导入合法性
- **文件检查** - 检查运行环境文件
- **进程检查** - 检查运行环境进程

## 使用注意事项

### 开发环境

- 在开发环境中，加密版启动器会尝试加载 `backend_encrypted/` 目录
- 如果该目录不存在，会提示先运行加密打包脚本

### 生产环境

- 加密版exe文件包含完整的加密后端代码
- 运行时自动加载PyArmor运行时保护模块
- 代码在内存中解密执行，无法直接反编译

### 加密限制

- 某些第三方库可能无法完全加密
- 加密会增加文件大小和启动时间
- 加密后的代码调试困难

## 常见问题

### Q: 加密打包失败怎么办？

A: 检查以下问题：
1. PyArmor是否安装正确
2. 是否有足够的磁盘空间
3. 网络连接是否正常（PyArmor需要在线验证）

### Q: 加密后的exe文件无法运行？

A: 检查以下问题：
1. 是否缺少依赖库
2. 是否有杀毒软件拦截
3. 是否在正确的操作系统上运行

### Q: 如何更新加密版本？

A: 重新运行 `python build_encrypted.py` 即可

## 安全建议

1. **定期更新加密密钥** - 定期重新加密代码
2. **使用强加密选项** - 启用所有加密保护选项
3. **保护加密密钥** - 不要泄露PyArmor许可证信息
4. **多版本备份** - 保留未加密的源代码备份

## 技术支持

如果遇到加密打包问题，请检查：
1. PyArmor官方文档
2. 项目issue页面
3. 开发团队联系方式

---

**注意**: 加密保护可以增加代码安全性，但不能保证100%安全。请结合其他安全措施保护您的知识产权。